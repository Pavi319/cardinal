import{r as t,c as e,h as s}from"./p-4fa838bb.js";import{C as i}from"./p-5f6336bf.js";const a=class{constructor(s){t(this,s),this.menuItems=null,this.hamburgerMaxWidth=600,this.showHamburgerMenu=!1,this.showNavBar=!1,this.menuItemClicked=e(this,"menuEvent",7),this.needMenuItemsEvt=e(this,"needMenuItems",7)}checkIfHamburgerIsNeeded(){this.showHamburgerMenu=document.documentElement.clientWidth<this.hamburgerMaxWidth}componentDidLoad(){this.checkIfHamburgerIsNeeded()}handleClick(t){t.preventDefault();let e=t.target.value;for(let s=0;s<this.menuItems.length;s++)this.menuItems[s].active=e===this.menuItems[s];this.menuItemClicked.emit(t.target.value),this.menuItems=[...this.menuItems]}toggleNavBar(){this.showNavBar=!this.showNavBar}componentWillLoad(){this.menuItems||this.needMenuItemsEvt.emit(t=>{this.menuItems=t})}renderItem(t){let e=this.itemRenderer?this.itemRenderer:"psk-menu-item-renderer",i=[];if(t.children)for(let s=0;s<t.children.length;s++)i.push(this.renderItem(t.children[s]));return s(e,{onclick:t=>this.handleClick(t),active:!!t.active&&t.active,children:i,hamburger:this.showHamburgerMenu,value:t})}render(){if(!this.menuItems)return;let t=[];for(let s=0;s<this.menuItems.length;s++)t.push(this.renderItem(this.menuItems[s]));let e=this.menuItems.find(t=>t.active);if(this.showHamburgerMenu){t=t.map(t=>s("li",{onClick:this.toggleNavBar.bind(this),class:"nav-item"},t));let i="collapse navbar-collapse "+`${1==this.showNavBar?"show":""}`;return s("nav",{class:"navbar navbar-dark "},s("a",{class:"navbar-brand",href:"#"},e?e.name:"Home"),s("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse",onClick:this.toggleNavBar.bind(this),"aria-label":"Toggle navigation"},s("span",{class:"navbar-toggler-icon"})),s("div",{class:i},s("ul",{class:"navbar-nav mr-auto"},t)))}return t}static get style(){return":host{width:100%}.navbar{padding:.5rem 1rem .5rem 0}.navbar-brand{padding:5px}"}};!function(t,e,s,i){var a,r=arguments.length,n=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,s,i);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(n=(r<3?a(n):r>3?a(e,s,n):a(e,s))||n);r>3&&n&&Object.defineProperty(e,s,n)}([i()],a.prototype,"itemRenderer",void 0);export{a as app_menu};