import{r as s,h as e,g as t}from"./p-9835b40a.js";const i=class{constructor(e){s(this,e)}async componentWillLoad(){this.digestSeedHex=this.digestMessage(this.csbSeed)}componentDidLoad(){let s=this.element.querySelector("iframe");window.IframeCommunicationInstance.initializeSwarmEngine(this.digestSeedHex,s),setTimeout(()=>{this.sendMessageToIframe(this.digestSeedHex,"Hi there "+this.digestSeedHex)},1e3)}sendMessageToIframe(s,e){$$.interactions.startSwarmAs(s,"echo","say",e).onReturn((function(s,e){s?console.log(s):console.log("Iframe received: ",e)}))}digestMessage(s){return require("pskcrypto").pskHash(s,"hex")}render(){return this.digestSeedHex?e("iframe",{sandbox:"allow-scripts allow-same-origin allow-downloads-without-user-activation allow-forms",width:"300px",height:"300px",src:"/SSApps/app/"+this.digestSeedHex+"/index.html?"+this.digestSeedHex}):null}get element(){return t(this)}};export{i as psk_ss_app};